import{a4 as _,a5 as b,a6 as v,a7 as y,B as w,O as k,C as B,a0 as M,P as C,r as m,o as i,e as n,g as e,F as f,h as j,Q as q,a1 as h,a2 as u,t as l,f as p}from"./vendor.2872f71b.js";import{h as I}from"./index.c17962c1.js";import{_ as D}from"./plugin-vue_export-helper.5a098b48.js";const E=["https://images.unsplash.com/photo-1519345182560-3f2917c472ef?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80","https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80","https://images.unsplash.com/photo-1502685104226-ee32379fefbe?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80","https://images.unsplash.com/photo-1500917293891-ef795e70e1f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"],O={components:{CheckCircleIcon:_,ChevronRightIcon:b,MailIcon:v},setup(){const c=y(),s=w(),r=c.query.official_id,o=k({email:"student@student.com",password:"123456"}),d=B([]);return M(()=>{I.get("/line/"+r+"/users").then(a=>{console.log(d),d.value=a})}),{form:o,avatars:E,bindUsers:d,handleBind(){s.dispatch("lineBind",{official_id:r,form:C(o)})},handleLogin(a){s.dispatch("lineLogin",{type:a.role,user_id:a.id,official_id:r})}}}},L={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 min-h-screen flex items-center"},Q={class:"max-w-lg mx-auto"},R=e("h2",{class:"mb-4"},"Pick an account to login",-1),H={class:"bg-white shadow overflow-hidden sm:rounded-md"},J={role:"list",class:"divide-y divide-gray-200"},S=["onClick"],V={class:"flex items-center px-4 py-4 sm:px-6"},W={class:"min-w-0 flex-1 flex items-center"},P={class:"flex-shrink-0"},F=["src"],N={class:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},T={class:"text-sm font-medium text-indigo-600 truncate"},U={class:"mt-2 flex items-center text-sm text-gray-500"},z=e("h2",{class:"mt-20 mb-4"},"Or bind an existing account",-1),A={key:1,class:"mb-4"},G=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1),K={class:"mt-1"},X={class:"space-y-1"},Y=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1),Z={class:"mt-1"};function $(c,s,r,o,d,a){const g=m("MailIcon"),x=m("ChevronRightIcon");return i(),n("div",L,[e("div",Q,[o.bindUsers.length>0?(i(),n(f,{key:0},[R,e("div",H,[e("ul",J,[(i(!0),n(f,null,j(o.bindUsers,t=>(i(),n("li",{key:t.id},[e("div",{onClick:ee=>o.handleLogin(t),class:"block hover:bg-gray-50"},[e("div",V,[e("div",W,[e("div",P,[e("img",{class:"h-12 w-12 rounded-full",src:o.avatars[Math.floor(Math.random()*4)],alt:""},null,8,F)]),e("div",N,[e("div",null,[e("p",T,l(t.name)+" "+l(t.role==="teacher"?" (teacher)":""),1),e("p",U,[p(g,{class:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),e("span",null,l(t.email),1)])])])]),e("div",null,[p(x,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])])],8,S)]))),128))])]),z],64)):(i(),n("h2",A,"Bind an existing account")),e("form",{onSubmit:s[3]||(s[3]=q(()=>{},["prevent"])),class:"space-y-6"},[e("div",null,[G,e("div",K,[h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.form.email=t),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[u,o.form.email]])])]),e("div",X,[Y,e("div",Z,[h(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.form.password=t),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[u,o.form.password]])])]),e("div",null,[e("button",{onClick:s[2]||(s[2]=(...t)=>o.handleBind&&o.handleBind(...t)),class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Bind and Sign in ")])],32)])])}var ae=D(O,[["render",$]]);export{ae as default};
