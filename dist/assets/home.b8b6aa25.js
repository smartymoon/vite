import{N as w,B as C,H as O,r as i,o as c,e as m,g as t,t as h,f as r,L as b,F as I,h as L,C as f,O as D,P as T,Q as U,R as B,S as A,U as q,V as z,W as F,w as _,I as S,K as k,J as V,X as H,Y as J,Z as K,_ as Q,$ as W,a0 as X}from"./vendor.2872f71b.js";import{_ as v}from"./plugin-vue_export-helper.5a098b48.js";import{h as R,s as E}from"./index.c17962c1.js";import{P as Y,C as Z}from"./Chat.02e3e4b2.js";const ee={props:{name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,default:""},modelValue:{type:String,default:""},type:{type:String,default:"text"}},components:{ExclamationCircleIcon:w},setup(a){const o=C();return{errors:O(()=>o.getters.getErrors[a.name]||[])}}},oe={class:"mb-4"},te={for:"name",class:"block text-sm font-medium text-gray-700"},ne={class:"mt-1 relative"},se=["value","type","placeholder"],le={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"};function ae(a,o,n,e,p,l){const d=i("ExclamationCircleIcon");return c(),m("div",oe,[t("label",te,h(n.label),1),t("div",ne,[t("input",{value:n.modelValue,onInput:o[0]||(o[0]=s=>a.$emit("update:modelValue",s.target.value)),type:n.type,class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:n.placeholder},null,40,se),e.errors.length>0?(c(),m("div",le,[r(d,{class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):b("",!0)]),e.errors.length>0?(c(!0),m(I,{key:0},L(e.errors,(s,x)=>(c(),m("p",{key:x,class:"mt-2 text-sm text-red-600",id:"email-error"},h(s),1))),128)):b("",!0)])}var G=v(ee,[["render",ae]]);const re={components:{ExclamationCircleIcon:w,LeeInput:G},setup(a,{emit:o}){const n=C(),e=f(""),p=O(()=>n.getters.getErrors);return{school_name:e,errors:p,handleSubmit(){R.post("/schools",{school_name:e.value}).then(({data:l})=>{o("created",l)})}}}},ie={class:"border rounded bg-gray-50 p-4"},de=t("h2",{class:"mb-4"},"Create School",-1),ce={class:"flex justify-end"};function me(a,o,n,e,p,l){const d=i("lee-input");return c(),m("div",ie,[de,r(d,{label:"School Name",placeholder:"Input School Name",name:"school_name",modelValue:e.school_name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.school_name=s)},null,8,["modelValue"]),t("div",ce,[t("button",{onClick:o[1]||(o[1]=(...s)=>e.handleSubmit&&e.handleSubmit(...s)),type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Apply ")])])}var ue=v(re,[["render",me]]);const pe={components:{ExclamationCircleIcon:w,LeeInput:G},props:{school:{type:Object,required:!0}},setup(a,{emit:o}){C();const n=D({school_id:a.school.id,student_name:"",student_email:"",password:"",password_confirmation:""});return{form:n,handleSubmit(){R.post("/students",T(n)).then(({data:e})=>{o("created",e)})}}}},_e=t("h2",{class:"mb-4"},"Add Student",-1),he={class:"mb-4"},fe=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"School (Pick a school on left side)",-1),ge={type:"text",readonly:"",class:"mt-2 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md bg-gray-50"},be={class:"flex justify-end"};function ve(a,o,n,e,p,l){const d=i("lee-input");return c(),m("form",{onSubmit:o[5]||(o[5]=U(()=>{},["prevent"])),class:"border rounded bg-gray-50 p-4"},[_e,t("div",he,[fe,t("div",ge,h(n.school.name),1)]),r(d,{label:"Student Name",placeholder:"input student name",name:"student_name",modelValue:e.form.student_name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.student_name=s)},null,8,["modelValue"]),r(d,{label:"Email",placeholder:"input student email",name:"student_email",modelValue:e.form.student_email,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.student_email=s)},null,8,["modelValue"]),r(d,{label:"Password",placeholder:"Input password",name:"password",modelValue:e.form.password,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.password=s),type:"password"},null,8,["modelValue"]),r(d,{label:"Password Confrim",placeholder:"input password again",name:"password_confirmation",modelValue:e.form.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.password_confirmation=s),type:"password"},null,8,["modelValue"]),t("div",be,[t("button",{onClick:o[4]||(o[4]=(...s)=>e.handleSubmit&&e.handleSubmit(...s)),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Add ")])],32)}var xe=v(pe,[["render",ve]]);const ye={components:{ExclamationCircleIcon:w,LeeInput:G},props:{school:{type:Object,required:!0}},setup(a){C();const o=f(""),n=D({school_id:a.school.id,teacher_email:""});return{form:n,invite_url:o,handleSubmit(){R.post("/invitations",T(n)).then(({data:e})=>{o.value=e.url})}}}},we={class:"border rounded bg-gray-50 p-4"},Ce=t("h2",{class:"mb-4"},"Invite Teacher",-1),Se={class:"mb-4"},ke=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"School (Pick a school on left side)",-1),Ve={type:"text",readonly:"",class:"mt-2 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md bg-gray-50"},Re={key:0,class:"py-2"},$e={class:"flex justify-end"};function je(a,o,n,e,p,l){const d=i("lee-input");return c(),m("div",we,[Ce,t("div",Se,[ke,t("div",Ve,h(n.school.name),1)]),r(d,{label:"Teacher Email",placeholder:"input teacher email",name:"teacher_email",modelValue:e.form.teacher_email,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.teacher_email=s)},null,8,["modelValue"]),e.invite_url?(c(),m("p",Re,h(e.invite_url),1)):b("",!0),t("div",$e,[t("button",{onClick:o[1]||(o[1]=(...s)=>e.handleSubmit&&e.handleSubmit(...s)),type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Sent Email ")])])}var Oe=v(ye,[["render",je]]);const Ee={components:{RadioGroup:B,RadioGroupDescription:A,RadioGroupLabel:q,RadioGroupOption:z},props:{schools:{type:Array,required:!0}},setup(a,{emit:o}){const n=f(a.schools[0]);return F(n,e=>{o("change",e)}),{selected:n}}},Ge=V(" Pricing schools "),Ie={class:"relative bg-white rounded-md -space-y-px"},Le={class:"flex items-center text-sm"},De=t("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),Te=[De],Me={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ne=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},null,-1),Pe=[Ne];function Ue(a,o,n,e,p,l){const d=i("RadioGroupLabel"),s=i("RadioGroupDescription"),x=i("RadioGroupOption"),$=i("RadioGroup");return c(),m("div",null,[r($,{modelValue:e.selected,"onUpdate:modelValue":o[0]||(o[0]=u=>e.selected=u)},{default:_(()=>[r(d,{class:"sr-only"},{default:_(()=>[Ge]),_:1}),t("div",Ie,[(c(!0),m(I,null,L(n.schools,(u,y)=>(c(),S(x,{as:"template",key:u.name,value:u,disabled:!u.if_approve},{default:_(({checked:g,active:j})=>[t("div",{class:k([y===0?"rounded-tl-md rounded-tr-md":"",y===n.schools.length-1?"rounded-bl-md rounded-br-md":"",g?"bg-indigo-50 border-indigo-200 z-10":"border-gray-200","relative border p-4 flex flex-col cursor-pointer md:pl-4 md:pr-6 md:grid md:grid-cols-3 focus:outline-none"])},[t("div",Le,[t("span",{class:k([g?"bg-indigo-600 border-transparent":"bg-white border-gray-300",j?"ring-2 ring-offset-2 ring-indigo-500":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},Te,2),r(d,{as:"span",class:k([g?"text-indigo-900":"text-gray-900","ml-3 font-medium"])},{default:_(()=>[V(h(u.name),1)]),_:2},1032,["class"])]),r(s,{class:"ml-6 pl-1 text-sm md:ml-0 md:pl-0 md:text-center"},{default:_(()=>[V(h(u.created_at),1)]),_:2},1024),r(s,{class:k([g?"text-indigo-700":"text-gray-500","flex justify-end gap-2 ml-6 pl-1 text-sm md:ml-0 md:pl-0 md:text-right"])},{default:_(()=>[V(h(u.if_approve?"approved":"approving")+" ",1),u.if_approve?(c(),m("svg",Me,Pe)):b("",!0)]),_:2},1032,["class"])],2)]),_:2},1032,["value","disabled"]))),128))])]),_:1},8,["modelValue"])])}var Be=v(Ee,[["render",Ue]]);const Ae={components:{InviteForm:Oe,SchoolForm:ue,StudentForm:xe,SchoolList:Be,PeopleList:Y,Dialog:H,DialogOverlay:J,DialogTitle:K,TransitionRoot:Q,TransitionChild:W,Chat:Z},setup(){const a=f([]),o=f(null),n=f(!1),e=f(null),p=f(null);return X(()=>{R.get("schools").then(l=>{a.value=l,l.length>0&&(o.value=l[0],E.dispatch("getStudentsOfSchool",l[0].id))})}),{schools:a,people:O(()=>E.state.people),current_school:o,isOpen:n,talk_to_id:e,talk_to_name:p,closeModal(){n.value=!1},openModal(){n.value=!0},handleSchoolChange(l){o.value=l,E.dispatch("getStudentsOfSchool",l.id)},handleSchoolCreated(l){a.value.push(l),o.value=l},handleStudentCreated(l){people.value.unshift(l)},handleChat(l,d){e.value=l,p.value=d,n.value=!0}}}},qe={class:"grid grid-cols-5 gap-4"},ze={class:"col-span-3"},Fe={class:"col-span-2"},He={class:"fixed inset-0 z-10 overflow-y-auto"},Je={class:"min-h-screen px-4 text-center"},Ke=t("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),Qe={class:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl border"},We={class:"flex justify-between"},Xe=t("div",null,"Chat",-1),Ye=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Ze=[Ye];function eo(a,o,n,e,p,l){const d=i("school-list"),s=i("people-list"),x=i("school-form"),$=i("student-form"),u=i("invite-form"),y=i("DialogOverlay"),g=i("TransitionChild"),j=i("Chat"),M=i("Dialog"),N=i("TransitionRoot");return c(),m("div",qe,[t("div",ze,[e.schools.length>0?(c(),S(d,{key:0,class:"mb-4",schools:e.schools,onChange:e.handleSchoolChange},null,8,["schools","onChange"])):b("",!0),r(s,{onChat:e.handleChat,people:e.people},null,8,["onChat","people"])]),t("div",Fe,[r(x,{class:"mb-6",onCreated:e.handleSchoolCreated},null,8,["onCreated"]),e.current_school?(c(),S($,{key:0,class:"mb-6",onCreated:e.handleStudentCreated,school:e.current_school},null,8,["onCreated","school"])):b("",!0),e.current_school?(c(),S(u,{key:1,school:e.current_school},null,8,["school"])):b("",!0)]),r(N,{appear:"",show:e.isOpen,as:"template"},{default:_(()=>[r(M,{as:"div",onClose:e.closeModal},{default:_(()=>[t("div",He,[t("div",Je,[r(g,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[r(y,{class:"fixed inset-0"})]),_:1}),Ke,r(g,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[t("div",Qe,[t("div",We,[Xe,t("div",{onClick:o[0]||(o[0]=(...P)=>e.closeModal&&e.closeModal(...P)),class:"mb-3 text-gray-300 cursor-pointer"},Ze)]),r(j,{"talk-to":e.talk_to_name,me:{id:a.$store.state.user.id,role:"teacher"},another:{id:e.talk_to_id,role:"student"}},null,8,["talk-to","me","another"])])]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}var lo=v(Ae,[["render",eo]]);export{lo as default};
